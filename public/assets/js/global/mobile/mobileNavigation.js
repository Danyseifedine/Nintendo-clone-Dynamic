const mobileLoginPanel=document.querySelector('.mobile-login-panel');const mobileLoginBackdrop=document.querySelector('.mobile-login-backdrop');const mobileUserIcon=document.getElementById('mobile-user-icon');const closeMobileLoginButtons=document.querySelectorAll('.close-mobile-login-panel');const userIconSVG=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" role="presentation" alt=""
                    data-testid="UserIcon" color="currentColor" size="24">
                    <path
                        d="M16.22 19.41A9.71 9.71 0 1 1 26 9.7a9.74 9.74 0 0 1-9.8 9.71M1.84 32a10.88 10.88 0 0 1 10.94-10.74h6.57A10.88 10.88 0 0 1 30.29 32H1.84"
                        fill="currentColor"></path>
                </svg>`;const closeIconSVG=`<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" width="24" role="presentation" alt=""
                    data-testid="CloseCircleIcon" color="currentColor" size="24">
                    <path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.735 8L16 13.735 10.265 8 8 10.265 13.735 16 8 21.735 10.265 24 16 18.265 21.735 24 24 21.735 18.265 16 24 10.265 21.735 8z"
                    fill="currentColor" fill-rule="evenodd"></path>
                    </svg>`;const hamburgerIconSVG=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" xml:space="preserve" width="24"
                        role="presentation" alt="" data-testid="HamburgerMenuIcon" color="currentColor" size="24">
                        <path fill="currentColor" d="M0 12.8h32v6.4H0zM0 24h32v6.4H0zM0 1.6h32V8H0z"></path>
                    </svg>`;const mobileTabsPanel=document.querySelector('.mobile-tabs-panel');const mobileTabsIcon=document.querySelector('.mobile-tabs-icon');const closeMobileTabsButtons=document.querySelectorAll('.close-mobile-tabs-panel');function openAuthDrawerMobile(){mobileLoginPanel.classList.remove('hidden');void mobileLoginPanel.offsetWidth;mobileLoginPanel.classList.add('show');mobileLoginBackdrop.classList.add('show');document.body.classList.add('panel-open');if(mobileUserIcon){mobileUserIcon.innerHTML=closeIconSVG}}
function closeAuthDrawerMobile(){mobileLoginPanel.classList.remove('show');mobileLoginBackdrop.classList.remove('show');document.body.classList.remove('panel-open');if(mobileUserIcon){mobileUserIcon.innerHTML=userIconSVG}
setTimeout(()=>{mobileLoginPanel.classList.add('hidden')},300)}
if(mobileUserIcon){mobileUserIcon.addEventListener('click',function(e){e.preventDefault();openAuthDrawerMobile()})}
closeMobileLoginButtons.forEach(button=>{button.addEventListener('click',function(e){e.preventDefault();closeAuthDrawerMobile()})});if(mobileLoginBackdrop){mobileLoginBackdrop.addEventListener('click',function(e){e.preventDefault();closeAuthDrawerMobile()})}
if(mobileLoginPanel){mobileLoginPanel.addEventListener('click',function(e){e.stopPropagation()})}
function openMobileTabsPanel(){mobileTabsPanel.classList.remove('hidden');void mobileTabsPanel.offsetWidth;mobileTabsPanel.classList.add('show');mobileLoginBackdrop.classList.add('show');document.body.classList.add('panel-open');if(mobileTabsIcon){mobileTabsIcon.innerHTML=closeIconSVG}}
function closeMobileTabsPanel(){mobileTabsPanel.classList.remove('show');mobileLoginBackdrop.classList.remove('show');document.body.classList.remove('panel-open');if(mobileTabsIcon){mobileTabsIcon.innerHTML=hamburgerIconSVG}
setTimeout(()=>{mobileTabsPanel.classList.add('hidden')},300)}
if(mobileUserIcon){mobileUserIcon.addEventListener('click',function(e){e.preventDefault();if(mobileTabsPanel.classList.contains('show')){closeMobileTabsPanel();setTimeout(()=>{openAuthDrawerMobile()},100)}else{openAuthDrawerMobile()}})}
if(mobileTabsIcon){mobileTabsIcon.addEventListener('click',function(e){e.preventDefault();if(mobileLoginPanel.classList.contains('show')){closeAuthDrawerMobile()}
openMobileTabsPanel()})}
closeMobileTabsButtons.forEach(button=>{button.addEventListener('click',function(e){e.preventDefault();closeMobileTabsPanel()})});if(mobileTabsPanel){mobileTabsPanel.addEventListener('click',function(e){e.stopPropagation()})}
if(mobileLoginBackdrop){mobileLoginBackdrop.addEventListener('click',function(e){e.preventDefault();if(mobileLoginPanel.classList.contains('show')){closeAuthDrawerMobile()}
if(mobileTabsPanel.classList.contains('show')){closeMobileTabsPanel()}})}
document.addEventListener('DOMContentLoaded',function(){const exploreMobileTab=document.querySelector('.not-active-mobile-tab:nth-child(1)');const shopMobileTab=document.querySelector('.active-mobile-tab');const supportMobileTab=document.querySelector('.not-active-mobile-tab:nth-child(3)');const mobileExploreTab=document.getElementById('mobile-explore-tab');const mobileShopTab=document.getElementById('mobile-shop-tab');const mobileSupportTab=document.getElementById('mobile-support-tab');function setActiveTab(activeTab,activeContent){[exploreMobileTab,shopMobileTab,supportMobileTab].forEach(tab=>{tab.classList.remove('active-mobile-tab');tab.classList.add('not-active-mobile-tab');tab.classList.remove('bg-gray-100');tab.querySelector('span').classList.remove('text-nintendo-red')});[mobileExploreTab,mobileShopTab,mobileSupportTab].forEach(content=>{if(content)content.classList.add('hidden');});activeTab.classList.remove('not-active-mobile-tab');activeTab.classList.add('active-mobile-tab');activeTab.classList.add('bg-gray-100');activeTab.querySelector('span').classList.add('text-nintendo-red');if(activeContent)activeContent.classList.remove('hidden');}
if(exploreMobileTab){exploreMobileTab.addEventListener('click',function(){setActiveTab(exploreMobileTab,mobileExploreTab)})}
if(shopMobileTab){shopMobileTab.addEventListener('click',function(){setActiveTab(shopMobileTab,mobileShopTab)})}
if(supportMobileTab){supportMobileTab.addEventListener('click',function(){setActiveTab(supportMobileTab,mobileSupportTab)})}});function handleViewportChange(){const mobileLoginBackdrop=document.querySelector('.mobile-login-backdrop');const mobileLoginPanel=document.querySelector('.mobile-login-panel');const mobileTabsPanel=document.querySelector('.mobile-tabs-panel');if(window.innerWidth>768){if(mobileLoginBackdrop)mobileLoginBackdrop.classList.remove('show');if(mobileLoginPanel)mobileLoginPanel.classList.remove('show');if(mobileTabsPanel)mobileTabsPanel.classList.remove('show');document.body.classList.remove('overflow-hidden')}}
window.addEventListener('resize',handleViewportChange);document.addEventListener('DOMContentLoaded',function(){handleViewportChange()});document.addEventListener('DOMContentLoaded',function(){const searchTabIcon=document.querySelector('.search-tab-icon');const mobileSearchPanel=document.getElementById('mobile-search-panel');const mobileLoginBackdrop=document.querySelector('.mobile-login-backdrop');const closeSearchButton=document.querySelector('.close-mobile-search-panel');const body=document.body;function openSearchPanel(){if(window.innerWidth<=1024&&mobileSearchPanel){mobileSearchPanel.classList.remove('hidden');void mobileSearchPanel.offsetWidth;mobileSearchPanel.classList.add('show');if(mobileLoginBackdrop)mobileLoginBackdrop.classList.add('show');body.classList.add('panel-open');body.classList.add('overflow-hidden')}}
function closeSearchPanel(){if(mobileSearchPanel){mobileSearchPanel.classList.remove('show');if(mobileLoginBackdrop)mobileLoginBackdrop.classList.remove('show');body.classList.remove('panel-open');body.classList.remove('overflow-hidden');setTimeout(()=>{mobileSearchPanel.classList.add('hidden')},300)}}
if(searchTabIcon){searchTabIcon.addEventListener('click',function(e){e.preventDefault();if(window.innerWidth>1024)return;if(document.querySelector('.mobile-login-panel.show')){closeAuthDrawerMobile()}
if(document.querySelector('.mobile-tabs-panel.show')){closeMobileTabsPanel()}
openSearchPanel()})}
if(closeSearchButton){closeSearchButton.addEventListener('click',closeSearchPanel)}
window.addEventListener('resize',function(){if(window.innerWidth>1024&&mobileSearchPanel&&mobileSearchPanel.classList.contains('show')){closeSearchPanel()}})})